{% extends "base.html" %} {% block title %} On-going Events {% endblock %}

{% block content %}
<script src='/static/index.js'></script>
<h1 align="center">Posts</h1>
<ul class="list-group list-group-flush" id="posts">
  {% for post in all_post %}
  <li class="list-group-item">
    Sport: {{ post.sport }} <br>
    Date and time: {{ post.date}} <br>
    Location: {{ post.location}} <br>
    Description: {{ post.description}} <br>
    Number of people: {{ post.participant_number }}
    {% if not user.is_authenticated%}
    
    <div align="center">
      <button type="submit" class="btn btn-primary">Share</button>
    </div>

    {% endif %}
    {% if user.id != post.creater_id and user.is_authenticated %}
    <form method="POST">
      <div align="center">
        <input type="hidden" id="user_id" name="user_id" value={{ user.id }} >
        <input type="hidden" id="post_id" name="post_id" value={{ post.id }} >
        <button type="submit" class="btn btn-primary">Join</button>
        <button type="submit" class="btn btn-primary">Share</button>
      </div>
    </form>
    {% endif %}
    {% if user.id == post.creater_id and user.is_authenticated %}
    <div align="center">
<!--      <button type="submit" class="btn btn-primary" href="/post/{{post.id}}">Edit</button>-->
      <a type="submit" class="btn btn-primary" href="/post/{{post.id}}">Edit</a>
      <button type="submit" class="btn btn-primary">Share</button>
    </div>

    {% endif %}
  </li>
  {% endfor %}
</ul>
{% endblock %}